<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>YBC HomePage</title>
  <meta name="author" content="BaiChuan Yang" />

  
  <meta name="description" content="Blog mainly about IT technology and Interesting Life Events~" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="YBC HomePage" />

  <meta name="google-site-verification" content="IK-tjIwORWUinhhD-XZkyX5FWQgd568VBgmJorjK7Bg" />
  <meta name="baidu-site-verification" content="iAx4x1uv2O" />
  <meta name="msvalidate.01" content="E6F8036020E5423AA7576A75B806937B" />  

  
    <meta property="og:image" content="undefined" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="YBC HomePage" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-63602183-1', 'auto');
	ga('send', 'pageview');

</script>



  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

  <!-- leancloud  -->
  <script src="//cdn1.lncld.net/static/js/3.5.0/av-min.js"></script>
  <script>AV.init({ appId: 'EQcvlXLG9ctn5wOIelQIn0Vy-gzGzoHsz', appKey: 'kT6uiu1be4iGyGSYJ9QhDmrK'});</script>
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">YBC HomePage</a></h1>
  <h2><a href="/">Study~ Work~ Life~ Everything is here~</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
      <li><a href="/sitemap.xml">SiteMap</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','xeEkJ65dmswemsvZM1Nx','2.0.0');
</script>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-05-10T07:37:47.000Z"><a href="/2018/05/10/Thinking-in-Ops-Readiness/">2018-05-10</a></time>
      
      
  
    <h1 class="title"><a href="/2018/05/10/Thinking-in-Ops-Readiness/">Thinking in Ops Readiness</a></h1>
  

    </header>
    <div class="entry">
      
      
        <p>Software maintainance and monitoring are as important as its features provided to customers directly. Good strategies to help to build a healthy software and detect errors and bugs in software can graduately and finally greatly improve customer experience of the software, and meanwhile reduce the effort and cost of it. Different kinds of software have different strategies for maintainance and monitoring. </p>
<p>Here is my experience to do generic Ops Readiness for Web Service. Assume the programing language is Java.</p>
<h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>Before deploy the code on the production machine, do enough testing on local environment. Thus, at first it is important to setup a local development environment that can simulate the production environment, which incluldes the compilers, programing language, database and etc.</p>
<p>Then, there are many kinds of tests to be done.</p>
<ul>
<li><p>Unit Test: Unit tests should be run when compile and build the service. The tests should be run independently and cost a short time to complete. If the service has multiple modules and developers have to build and compile each of them, in the unit tests of one of these modules, developers can mock the behaviors of other modules if the current module has to communicate whith them.<br>Unit tests should cover as many branches and lines of code as possible. For example, if developers has to test a <code>if else</code> snippet, then probably two unit tests are required: one to cover the case that if condition is meet, and the other to cover the case that else condition is meet. Unit tests are not black box tests. It is fine for developers to write the tests based on the assumption that the logic of tested code is known.</p>
</li>
<li><p>Integration Test: As mentioned above, in the unit tests, the behaviors of other modules or third-party services used in tested module are mocked, and thus integration tests are required to make sure that when all the modules of the service are integrated together, the service works.<br>Integration tests, in theory, should cover as many branches as possible. But here the branches could have different meaning as the ones mentioned in unit tests because for the client, it only knows the definition of the request of tested APIs. So for example, if a request has two non-null fields, the integration tests can cover cases that one of or both of these fields are null in the request.</p>
</li>
<li><p>Load Test:</p>
</li>
<li><p>Fuzz Test:</p>
</li>
<li><p>Manual Test:</p>
</li>
</ul>
<p>At last, here is a suggestion: Test Driven Development is a good software development practice and helpful to build a robust software.</p>
<hr>

<h3 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h3><hr>

<h3 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h3><hr>

<h3 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h3><hr>

<h3 id="Monitors"><a href="#Monitors" class="headerlink" title="Monitors"></a>Monitors</h3><hr>

<h3 id="Tickets"><a href="#Tickets" class="headerlink" title="Tickets"></a>Tickets</h3><hr>

<h3 id="Dashboard"><a href="#Dashboard" class="headerlink" title="Dashboard"></a>Dashboard</h3>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/System-Design/">System Design</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-03-27T06:16:50.000Z"><a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-II/">2018-03-26</a></time>
      
      
  
    <h1 class="title"><a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-II/">Reading Note of Patterns of Enterprise Application Architecture II</a></h1>
  

    </header>
    <div class="entry">
      
      
        
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/System-Design/">System Design</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-03-27T06:16:46.000Z"><a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-I/">2018-03-26</a></time>
      
      
  
    <h1 class="title"><a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-I/">Reading Note of Patterns of Enterprise Application Architecture I</a></h1>
  

    </header>
    <div class="entry">
      
      
        
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/System-Design/">System Design</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-03-13T06:24:52.000Z"><a href="/2018/03/12/BitCoin-Information-Summary/">2018-03-12</a></time>
      
      
  
    <h1 class="title"><a href="/2018/03/12/BitCoin-Information-Summary/">BitCoin Information Summary</a></h1>
  

    </header>
    <div class="entry">
      
      
        <p>Here are the list of helpful links about BitCoin introduction.</p>
<ul>
<li><a href="https://www.zhihu.com/question/21418402" target="_blank" rel="external">比特币创造的价值在哪？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/26257639" target="_blank" rel="external">五分钟读懂：什么是ICO（Initial Coin Offering）</a></li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/BitCoin/">BitCoin</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-02-26T05:19:13.000Z"><a href="/2018/02/25/Reading-Note-of-Working-Effectively-with-Legacy-Code-IV/">2018-02-25</a></time>
      
      
  
    <h1 class="title"><a href="/2018/02/25/Reading-Note-of-Working-Effectively-with-Legacy-Code-IV/">Reading Note of Working Effectively with Legacy Code IV</a></h1>
  

    </header>
    <div class="entry">
      
      
        <h3 id="Refactor-Large-Class"><a href="#Refactor-Large-Class" class="headerlink" title="Refactor Large Class"></a>Refactor Large Class</h3><h4 id="Identification-of-Responsibility-of-Class"><a href="#Identification-of-Responsibility-of-Class" class="headerlink" title="Identification of Responsibility of Class"></a>Identification of Responsibility of Class</h4><p>Approaches of identification</p>
<ul>
<li>方法分组<br>寻找相似的方法名。将一个类上的所有方法列出来（含访问权限），找出哪些是一伙的。</li>
<li>观察隐藏方法<br>大量的私有方法或受保护方法意味着一个类内部有另一个类要抽象出来。</li>
<li>寻找可以更改的决定<br>指的是代码中已存在的结构。比如代码中采用了硬编码的地方。</li>
<li>寻找内部关系<br>寻找内部变量和方法之间的关系。</li>
<li>寻找主要职责<br>用一句话描述该类的职责。</li>
<li>当所有方法都行不通时，作一点草稿式重构</li>
<li>关注当前工作<br>注意当前正在做的事，如果发现正在为某件事提供另一条解决方案，那么可能意味着这里存在一个应该被提取且替代的职责。</li>
</ul>
<h5 id="单一职责原则（SRP）"><a href="#单一职责原则（SRP）" class="headerlink" title="单一职责原则（SRP）"></a>单一职责原则（SRP）</h5><p>每个类应该只承担一个职责，其在系统中的意图应当是单一的，且修改它的原因应该只有一个。</p>
<h5 id="接口隔离原则-ISP"><a href="#接口隔离原则-ISP" class="headerlink" title="接口隔离原则 (ISP)"></a>接口隔离原则 (ISP)</h5><p>给特定用户使用的方法创建一个接口，并让该类实现这个接口，则用户可以使用“属于它的”那个接口来访问此类。</p>
<h4 id="Class-Extraction-Abstraction"><a href="#Class-Extraction-Abstraction" class="headerlink" title="Class Extraction/Abstraction"></a>Class Extraction/Abstraction</h4><p>Need to make sure tests can be written for new classes extracted/abstracted from refactor.</p>
<hr>

<h3 id="Refactor-A-Lot-of-Duplicated-Code"><a href="#Refactor-A-Lot-of-Duplicated-Code" class="headerlink" title="Refactor A Lot of Duplicated Code"></a>Refactor A Lot of Duplicated Code</h3><p>Move the duplicated code to a new class or interface and then the original class extends or implements this new class or interface, if the duplicated code is not safe to delete.</p>
<h4 id="开放／封闭原则"><a href="#开放／封闭原则" class="headerlink" title="开放／封闭原则"></a>开放／封闭原则</h4><p>代码对于扩展是开放的，而对于修改是封闭的。即对于一个好的设计，无需对代码作太多修改就可以添加新特性。</p>
<hr>

<h3 id="Resolve-Dependency"><a href="#Resolve-Dependency" class="headerlink" title="Resolve Dependency"></a>Resolve Dependency</h3><h4 id="Parameter-Adaptation"><a href="#Parameter-Adaptation" class="headerlink" title="Parameter Adaptation"></a>Parameter Adaptation</h4><p>Steps:</p>
<ul>
<li>创建将被用于该方法的新接口，该接口越简单且能表达的意图越好。</li>
<li>为新接口创建一个用于产品代码的实现。</li>
<li>为新接口创建一个用于测试的“伪造”实现。</li>
<li>编写一个简单的测试用例，将伪对象传给该方法。</li>
<li>对该方法作必要的修改以使其能使用新的参数。</li>
<li>运行测试来确保能使用伪对象来测试该方法。</li>
</ul>
<h4 id="Wrapper-Class-for-Method"><a href="#Wrapper-Class-for-Method" class="headerlink" title="Wrapper Class for Method"></a>Wrapper Class for Method</h4><p>Steps:</p>
<ul>
<li>创建一个将包含目标方法的类。</li>
<li>为该类创建一个构造函数，利用签名保持方法让其和目标方法有相同的参数列表。</li>
<li>对于构造函数中的每个参数，创建一个相应的成员变量。</li>
<li>在新类中建立一个空的执行方法，通常命名为run。</li>
<li>将目标方法的方法体复制到刚才创建的执行方法中，然后编译，并作下一步修改。</li>
<li>新类通过编译后，回到原先的目标方法，对其进行修改，让它将工作全权委托给新创建的执行方法。</li>
<li>若有必要，使用接口提取来解开对原类的依赖。</li>
</ul>
<h4 id="Definition-Completion"><a href="#Definition-Completion" class="headerlink" title="Definition Completion"></a>Definition Completion</h4><p>Steps:</p>
<ul>
<li>找出想要对其成员函数实施定义替换的类。</li>
<li>确认该类的成员函数定义是在源文件而非头文件中。</li>
<li>将该头文件包含到待测试类的测试源文件中。</li>
<li>确保该类的源文件并不参与构建。</li>
<li>构建，找出没替换定义的成员函数。</li>
<li>往测试源文件中添加相应的成员函数定义，直到构建成功。</li>
</ul>
<h4 id="Encapsulate-Global-References"><a href="#Encapsulate-Global-References" class="headerlink" title="Encapsulate Global References"></a>Encapsulate Global References</h4><p>Steps:</p>
<ul>
<li>找出有待封装的全局变量／函数。</li>
<li>为它们创建一个类。</li>
<li>将全局变量／函数复制到该类中，并注释掉其原始声明。</li>
<li>声明新类的一个全局对象。</li>
<li>依靠编译器找出所有用到了这些全局变量／函数的地方。</li>
<li>将所有对它们的引用加上刚建立的新类的全局对象前缀。</li>
<li>在要使用伪对象的地方，利用引入静态设置方法，参数化构造函数，参数化方法或以获取方法替换全局引用。</li>
</ul>
<h4 id="Expose-Static-Method"><a href="#Expose-Static-Method" class="headerlink" title="Expose Static Method"></a>Expose Static Method</h4><p>Steps:</p>
<ul>
<li>编写一个测试，访问打算设为公有静态的那个方法。</li>
<li>将目标方法提取到一个静态方法中，实施签名保持。</li>
<li>编译并修改所有编译错误。</li>
</ul>
<h4 id="Extract-and-Override-Method-Caller"><a href="#Extract-and-Override-Method-Caller" class="headerlink" title="Extract and Override Method Caller"></a>Extract and Override Method Caller</h4><p>Steps:</p>
<ul>
<li>确定想要提取的调用，找出其所调用的方法声明。</li>
<li>在当前类创建一个新的方法，用签名保持来命名新方法。</li>
<li>把对目标方法的调用复制到新方法中，在原本调用该方法的地方替换成新方法。</li>
</ul>
<h4 id="Extract-and-Override-Factory-Method"><a href="#Extract-and-Override-Factory-Method" class="headerlink" title="Extract and Override Factory Method"></a>Extract and Override Factory Method</h4><p>Steps:</p>
<ul>
<li>找出构造函数中的新建对象处。</li>
<li>将所有涉及新建对象的代码全部转移到一个工厂方法中。</li>
<li>创建一个测试子类，重写刚才的工厂方法来解除测试中的依赖。</li>
</ul>
<h4 id="Extract-and-Override-Getter"><a href="#Extract-and-Override-Getter" class="headerlink" title="Extract and Override Getter"></a>Extract and Override Getter</h4><p>Steps:</p>
<ul>
<li>找出需要为其引入获取方法的对象。</li>
<li>将创建该对象所需的所有逻辑提取到一个获取方法中。</li>
<li>将所有对该对象的使用都替换为通过该获取方法来获得，并在所有构造函数中将该对象的引用初始化为null。</li>
<li>在获取方法里面加入“首次调用时创建”功能，即单例模式。</li>
<li>子类化该类，重写此获取方法并在其中提供测试用对象。</li>
</ul>
<h4 id="Implementation-Abstraction"><a href="#Implementation-Abstraction" class="headerlink" title="Implementation Abstraction"></a>Implementation Abstraction</h4><p>Steps:</p>
<ul>
<li>将目标类复制一份并重命名。</li>
<li>将目标类改成接口。</li>
<li>将所有公有方法改为抽象方法，并删除接口类文件中不需要的import。</li>
<li>让产品类实现该接口。</li>
<li>将创建原类对象的地方，修改为创建新的产品类的对象，并保证编译和测试通过。</li>
</ul>
<h4 id="Interface-Abstraction"><a href="#Interface-Abstraction" class="headerlink" title="Interface Abstraction"></a>Interface Abstraction</h4><p>Steps to abstract an interface (for testing purpose):</p>
<ul>
<li>创建一个新接口，给它起一个好名字。暂时不要往里面添加任何方法。</li>
<li>让目标类实现该接口。确保编译成功。</li>
<li>在将要使用伪对象的地方从引用原目标类改为引用新接口。</li>
<li>编译系统。若编译器汇报接口上缺少某某方法，则添加相应方法，直到编译通过。</li>
</ul>
<h4 id="Introduce-Instance-Delegator"><a href="#Introduce-Instance-Delegator" class="headerlink" title="Introduce Instance Delegator"></a>Introduce Instance Delegator</h4><p>Steps:</p>
<ul>
<li>找出会在测试中带来问题的静态方法。</li>
<li>在它所属类上新建一个实例方法（用签名保持方法）。让该实例方法调用／委托目标静态方法。</li>
<li>找出想要纳入测试的类中有哪些地方使用了那个静态方法。使用参数化方法或其他解依赖技术来提供一个实例给代码中想要调用该静态方法的地方。</li>
</ul>
<h4 id="Introduce-Static-Setting"><a href="#Introduce-Static-Setting" class="headerlink" title="Introduce Static Setting"></a>Introduce Static Setting</h4><p>Steps:</p>
<ul>
<li>降低构造函数的保护权限。</li>
<li>往单件类上添加一个静态设置方法。后者的参数类型是对单件类的应用。确保该设置方法在设置新的单件对象之前将旧的对象销毁。</li>
<li>如果你需要访问单件类里面的受保护或私有方法才能将其设置妥当的话，可以考虑对单件类子类化，也可以对其提取接口并改用该接口的引用来持有单件。</li>
</ul>
<h4 id="Link-Substitution"><a href="#Link-Substitution" class="headerlink" title="Link Substitution"></a>Link Substitution</h4><p>Steps:</p>
<ul>
<li>找出你想要伪造的函数或类。</li>
<li>为它们编写另一份定义。</li>
<li>修改构件参数，让伪对象能够替代真对象被连接到项目中。</li>
</ul>
<h4 id="Parameterize-Constructor"><a href="#Parameterize-Constructor" class="headerlink" title="Parameterize Constructor"></a>Parameterize Constructor</h4><p>Steps:</p>
<ul>
<li>找出想要参数化的构造函数，并将其复制一份。</li>
<li>给其中的一份复制增加一个参数，该参数用来传入想要替换的对象。将该构造函数体中的相应的对象创建语句删掉，改为使用新增的那个参数。</li>
<li>若语言支持委托构造函数，那么删除另一份构造函数的函数体，代以对新构造函数的调用，记得调用时要new一个对应对象出来。</li>
</ul>
<h4 id="Parameterize-Method"><a href="#Parameterize-Method" class="headerlink" title="Parameterize Method"></a>Parameterize Method</h4><p>Steps:</p>
<ul>
<li>找出想要参数化的方法，并将其复制一份。</li>
<li>给其中的一份复制增加一个参数，该参数用来传入想要替换的对象。将该构造函数体中的相应的对象创建语句删掉，改为使用新增的那个参数。</li>
<li>若语言支持委托构造函数，那么删除另一份构造函数的函数体，代以对新构造函数的调用，记得调用时要new一个对应对象出来。</li>
</ul>
<h4 id="Primitivize-Parameter"><a href="#Primitivize-Parameter" class="headerlink" title="Primitivize Parameter"></a>Primitivize Parameter</h4><p>Steps:</p>
<ul>
<li>编写一个自由函数来实现想要对目标类做的事。同时建立一个中间表示，以便对自由函数进行处理。</li>
<li>往目标类上添加一个函数来构造这一中间表示，并将实际任务转发给上一步创建的那个自由函数。</li>
</ul>
<h4 id="Pull-up-Feature"><a href="#Pull-up-Feature" class="headerlink" title="Pull up Feature"></a>Pull up Feature</h4><p>Steps:</p>
<ul>
<li>找出想要提升到抽象基类中去的方法。</li>
<li>为它们创建一个抽象基类。</li>
<li>将这些方法转移到该抽象基类中，再编译。</li>
<li>编译错误会指出方法引用的其他实例成员，将它们也转移到基类中，同时保持签名不变，以尽量减少出错的机会。</li>
<li>当两个类都成功编译后，为抽象类创建一个测试子类，并往其中添加需要用于配置环境的方法。</li>
</ul>
<h4 id="Push-Down-Dependency"><a href="#Push-Down-Dependency" class="headerlink" title="Push Down Dependency"></a>Push Down Dependency</h4><p>Steps:</p>
<ul>
<li>在测试中构建目标类。</li>
<li>找出哪些依赖导致构造函数出问题。</li>
<li>创建目标类的子类，子类的名字要反映上一步找出的依赖的特征。</li>
<li>将目标类中的依赖变量和方法全部复制到新建的子类中，注意保持签名；将目标类中的相应方法设为受保护及抽象的；将目标类设为抽象的。</li>
<li>创建目标类的一个测试类，并在测试中使用该类。</li>
<li>创建测试类来验证该测试类能确实实例化。</li>
</ul>
<h4 id="Replace-Function-with-Function-Pointer"><a href="#Replace-Function-with-Function-Pointer" class="headerlink" title="Replace Function with Function Pointer"></a>Replace Function with Function Pointer</h4><p>Steps:</p>
<ul>
<li>找出想要替代的函数声明。</li>
<li>在每个找到的函数之前创建一个同名的函数指针。</li>
<li>重命名原函数的声明，以避免跟刚才声明的函数指针重名。</li>
<li>在一个C文件中初始化这些函数指针，将它们指向相应的函数。</li>
<li>构建，通过构建错误来找出原函数的函数体。将它们改为新的函数名。</li>
</ul>
<h4 id="Replace-Global-Reference-with-Getter"><a href="#Replace-Global-Reference-with-Getter" class="headerlink" title="Replace Global Reference with Getter"></a>Replace Global Reference with Getter</h4><p>Steps:</p>
<ul>
<li>找出想要替换的全局引用。</li>
<li>为其编写一个相应的获取方法。确保该方法可以在派生类中被重写。</li>
<li>将对全局对象的引用替换为对该获取方法的调用。</li>
<li>创建测试子类并重写获取方法。</li>
</ul>
<h4 id="Subclass-and-Override-Method"><a href="#Subclass-and-Override-Method" class="headerlink" title="Subclass and Override Method"></a>Subclass and Override Method</h4><p>Steps:</p>
<ul>
<li>找出想要分离出来的依赖，或者想要进行感知的地点。找出尽量少的一组方法来实现这个目标。</li>
<li>确定并确保需要重写的方法。适当调整这些方法的权限。</li>
<li>创建一个子类并在其中重写这些方法。</li>
</ul>
<h4 id="Replace-Instance-Variable"><a href="#Replace-Instance-Variable" class="headerlink" title="Replace Instance Variable"></a>Replace Instance Variable</h4><p>Steps:</p>
<ul>
<li>找出需要替换的实例变量。</li>
<li>创建一个名为supersedeXXX的方法，其中XXX是要替换的变量的名字。</li>
<li>在该方法中销毁原先被创建出来的那个对象，换入新建出来的对象。</li>
</ul>
<h4 id="Template-Redefinition"><a href="#Template-Redefinition" class="headerlink" title="Template Redefinition"></a>Template Redefinition</h4><p>Steps:</p>
<ul>
<li>在待测试类中找出你想要替换的特性。</li>
<li>将该类做成一个类模板，根据需要替换的变量对它进行参数化，将方法转移到头文件中。</li>
<li>给该类模板另起一个名字。比如在原类名字后面添加Impl。</li>
<li>在类模板定义之后加上一行typedef。</li>
<li>在测试文件中包含该类模板的定义，用新的测试用类型来实例化。</li>
</ul>
<h4 id="Text-Redefinition-ex-Ruby"><a href="#Text-Redefinition-ex-Ruby" class="headerlink" title="Text Redefinition (ex. Ruby)"></a>Text Redefinition (ex. Ruby)</h4><p>Steps:</p>
<ul>
<li>找出你想要替换定义的方法所在的类。</li>
<li>在测试源文件头添加一行require引入包含目标类的模块。</li>
<li>在测试源文件的开头给每一个想要替换的方法提供新的定义。</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Software-Development/">Software Development</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-02-18T19:28:56.000Z"><a href="/2018/02/18/Reading-Note-of-Working-Effectively-with-Legacy-Code-III/">2018-02-18</a></time>
      
      
  
    <h1 class="title"><a href="/2018/02/18/Reading-Note-of-Working-Effectively-with-Legacy-Code-III/">Reading Note of Working Effectively with Legacy Code III</a></h1>
  

    </header>
    <div class="entry">
      
      
        <h3 id="Fail-to-Test-A-Class"><a href="#Fail-to-Test-A-Class" class="headerlink" title="Fail to Test A Class"></a>Fail to Test A Class</h3><h4 id="Params-in-Constructor"><a href="#Params-in-Constructor" class="headerlink" title="Params in Constructor"></a>Params in Constructor</h4><ul>
<li>构造函数会引入依赖。解除依赖的方法可以有：<ul>
<li>传Null</li>
<li>接口提取: Subclass and Override Method. See <a href="http://yular.github.io/2018/02/16/Reading-Note-of-Working-Effectively-with-Legacy-Code-II/#Refactor-in-Long-Run">here</a>.</li>
</ul>
</li>
</ul>
<h4 id="Hidden-Dependencies"><a href="#Hidden-Dependencies" class="headerlink" title="Hidden Dependencies"></a>Hidden Dependencies</h4><ul>
<li>构造函数里面隐藏了一些依赖，这些依赖在测试中可能没有正确地实例化，从而导致编译没法通过。</li>
</ul>
<p>解决方法：</p>
<ul>
<li>定义一个新的构造函数，其输入参数为测试中将被模拟的依赖对象。同时，重构原有的构造函数，确保产品代码不受新的构造函数影响。</li>
<li>提供setter方法，将测试用的对象依赖覆盖构造函数中创建的产品对象。</li>
</ul>
<h4 id="Global-Dependency"><a href="#Global-Dependency" class="headerlink" title="Global Dependency"></a>Global Dependency</h4><ul>
<li>构造函数中使用了单例对象。这类对象是全局依赖。</li>
</ul>
<p>解决方法：</p>
<ul>
<li>在提供单例对象的类内部，添加一个setter，用来接收测试用的对象。</li>
</ul>
<h4 id="Onion-Dependency"><a href="#Onion-Dependency" class="headerlink" title="Onion Dependency"></a>Onion Dependency</h4><ul>
<li>构造函数的参数的构造函数包含别的对象，导致创建测试对象很困难。</li>
</ul>
<p>解决方法：</p>
<ul>
<li>直接传入Null。</li>
<li>被测类的构造函数的参数实现一个接口（interface），从而更容易地实例化以及模拟该参数的行为。</li>
</ul>
<hr>

<h3 id="Fail-to-Test-A-Method"><a href="#Fail-to-Test-A-Method" class="headerlink" title="Fail to Test A Method"></a>Fail to Test A Method</h3><h4 id="Hidden-Methods"><a href="#Hidden-Methods" class="headerlink" title="Hidden Methods"></a>Hidden Methods</h4><ul>
<li>有时需要测试private methods。</li>
</ul>
<p>解决方法：</p>
<ul>
<li>修改private methods的访问权限，同时可能也需要修改被这些方法调用的方法的访问权限。</li>
<li>重构这些private methods，每个新方法的职责更加集中且精确，从而更加容易测试。</li>
<li>添加public methods，这些方法可以访问被测试的private methods。</li>
</ul>
<h4 id="Final-Class"><a href="#Final-Class" class="headerlink" title="Final Class"></a>Final Class</h4><ul>
<li>这种类的对象作为被测试方法的输入参数时，没办法继承和重写该类，因此Mock方法不再起作用。</li>
</ul>
<p>解决方法：</p>
<ul>
<li>若该类的父类不是final，则通过Mock父类对象，作为被测函数的输入参数。</li>
<li>为作为参数的对象的类实现一个接口（interface），然后测试用的类也实现这个接口，从而可以模拟参数对象的行为。</li>
</ul>
<hr>

<h3 id="What-Methods-to-Test-during-Refactor"><a href="#What-Methods-to-Test-during-Refactor" class="headerlink" title="What Methods to Test during Refactor"></a>What Methods to Test during Refactor</h3><h4 id="Infer-the-Effect-Introduced-by-Modification-of-Code"><a href="#Infer-the-Effect-Introduced-by-Modification-of-Code" class="headerlink" title="Infer the Effect Introduced by Modification of Code"></a>Infer the Effect Introduced by Modification of Code</h4><ul>
<li>若代码结构良好，则其中的大多数方法的影响结构也会比较简单。任何改动，只要能够使代码的影响结构图简单化，就能保证代码更易理解和维护。</li>
<li>在编写“特征测试”时，要搞清楚被测试对象停止工作时，其调用的对象会受到什么影响。</li>
</ul>
<h4 id="How-to-Find-the-Effect-Introduced-by-Modification-of-Code"><a href="#How-to-Find-the-Effect-Introduced-by-Modification-of-Code" class="headerlink" title="How to Find the Effect Introduced by Modification of Code"></a>How to Find the Effect Introduced by Modification of Code</h4><ol>
<li>确定一个将要修改的方法。</li>
<li>如果该方法有返回值，查看它的调用方。</li>
<li>看看该方法是否修改了什么值。是则查看其他使用了这些值的方法，以及使用了这些方法的方法。</li>
<li>别忘了查看父类和子类，它们可能使用了这些实例变量和方法。</li>
<li>查看这些方法的参数，看看修改的代码是否使用了某参数对象或它的方法所返回的对象。</li>
<li>找出到目前为止被你所找出的任何方法修改的全局变量和静态数据。</li>
</ol>
<h4 id="拦截点"><a href="#拦截点" class="headerlink" title="拦截点"></a>拦截点</h4><ul>
<li>指的是，给定一处修改，在程序中的某些点能够探测到该修改的影响。</li>
</ul>
<h4 id="汇点"><a href="#汇点" class="headerlink" title="汇点"></a>汇点</h4><ul>
<li>指的是影响结构图的隘口，在汇点处编写测试的好处是，只需针对少数几个方法编写测试，就能够探测到大量其他方法的改动目的。</li>
</ul>
<hr>

<h3 id="How-to-Write-Test-during-Refactor"><a href="#How-to-Write-Test-during-Refactor" class="headerlink" title="How to Write Test during Refactor"></a>How to Write Test during Refactor</h3><h4 id="Characterization-Test"><a href="#Characterization-Test" class="headerlink" title="Characterization Test"></a>Characterization Test</h4><p>Characterization test should verify what system can do in current stage.</p>
<p>Steps of Writing Characterization Test:</p>
<ul>
<li>在测试中调用目标代码。</li>
<li>编写一个会失败的断言（assert）。</li>
<li>从断言的失败中得知代码的行为。</li>
<li>修改测试，让它预测目标代码的行为。</li>
<li>重复上述步骤。</li>
</ul>
<p>Characterization test is not a black box test.</p>
<h4 id="Target-Test"><a href="#Target-Test" class="headerlink" title="Target Test"></a>Target Test</h4><p>Target test is a kind of characterization test to verify whether the behaviors of system remain unchanged after refactor is done.</p>
<hr>

<h3 id="Test-Code-Difficult-to-Deal-With"><a href="#Test-Code-Difficult-to-Deal-With" class="headerlink" title="Test Code Difficult to Deal With"></a>Test Code Difficult to Deal With</h3><h4 id="Class-Naming"><a href="#Class-Naming" class="headerlink" title="Class Naming"></a>Class Naming</h4><ul>
<li>被测试类需要与之交互的类，可以命名“Fake”类，它们是交互类的子类。</li>
<li>被测试类的可以被重写成一个专门用于测试的子类，方便解依赖，可以命名为“Testing”类。</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Software-Development/">Software Development</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-02-17T06:06:01.000Z"><a href="/2018/02/16/Reading-Note-of-Working-Effectively-with-Legacy-Code-II/">2018-02-16</a></time>
      
      
  
    <h1 class="title"><a href="/2018/02/16/Reading-Note-of-Working-Effectively-with-Legacy-Code-II/">Reading Note of Working Effectively with Legacy Code II</a></h1>
  

    </header>
    <div class="entry">
      
      
        <h3 id="Code-Refactor-Technique-for-Limited-Time"><a href="#Code-Refactor-Technique-for-Limited-Time" class="headerlink" title="Code Refactor Technique for Limited Time"></a>Code Refactor Technique for Limited Time</h3><h4 id="New-Methods-Approach"><a href="#New-Methods-Approach" class="headerlink" title="New Methods Approach"></a>New Methods Approach</h4><ul>
<li>当需要往一个系统中添加特性且这个特性可以用全新的代码来编写时，将这些代码放到一个新的方法中，并且在需要用到这个新功能的地方调用该方法。</li>
</ul>
<p>该方法的步骤：</p>
<ul>
<li>确定修改点。</li>
<li>如果你的修改可以在一个方法中的一处地方以单块连续的语句序列出现，那么在修改点插入一个方法调用，被调用的方法是此用于完成新工作的新方法。然后将这一调用先注释掉。</li>
<li>确定你需要原方法中的哪些局部变量，并将它们作为实参传给新方法调用。</li>
<li>确定新方法是否需要返回什么值给原方法。如果需要的话就得相应修改对它的调用，使用一个变量来接收其返回值。</li>
<li>使用测试驱动（TDD）的开发方法来开发新的方法。</li>
<li>使原方法中被注释掉的调用重新生效。</li>
</ul>
<p>优点：</p>
<ul>
<li>新旧代码被清除地隔开。</li>
</ul>
<p>缺点:</p>
<ul>
<li>新旧代码会有重复的地方。同时，旧方法和类很可能不被测试覆盖，也很可能不会被继续改善。</li>
</ul>
<h4 id="New-Class-Approach"><a href="#New-Class-Approach" class="headerlink" title="New Class Approach"></a>New Class Approach</h4><ul>
<li>当需要修改一个类，但这个类在对象创建方面有大量的依赖，或者合理时间内没办法使这个类在测试中被实例化时，创建一个新的类来容纳所要进行的改动，并在原类中使用该新类。</li>
</ul>
<p>该方法的步骤：</p>
<ul>
<li>确定修改点。</li>
<li>如果你的修改可以在一个方法中的一处地方以单块连续的语句序列出现，那么用一个类来完成这些工作，并为该类起一个恰当的名字。在修改点插入，代码创建该类的对象，调用其方法。然后将刚插入的几行代码注释掉。</li>
<li>确定你需要原方法中的哪些局部变量，并将它们作为参数传递给新类的构造函数。</li>
<li>确定新类是否需要返回什么值给原方法。如果需要，则在该类中提供一个相应的方法，并在原方法中插入对它的调用来获得其返回值。</li>
<li>使用测试驱动（TDD）的开发方法来开发新的方法。</li>
<li>使原方法中被注释掉的调用重新生效。</li>
</ul>
<p>优点：</p>
<ul>
<li>在侵入性较强的修改时能更安全地完成工作。</li>
<li>不必修改任何已有的头文件。</li>
</ul>
<p>缺点:</p>
<ul>
<li>会使原系统的概念复杂化。</li>
</ul>
<h4 id="Wrap-Method-Approach"><a href="#Wrap-Method-Approach" class="headerlink" title="Wrap Method Approach"></a>Wrap Method Approach</h4><ul>
<li>需要为现有方法中添加新的行为时，且该行为不属于原方法的职责，可以采用这个方法。</li>
</ul>
<p>主要有两种形式：</p>
<ul>
<li>创建一个与原方法同名的新方法，并在新方法中调用更名后的原方法。适用于为原方法的既有调用添加行为的情况。</li>
<li>增加一个尚未被调用的新方法，其包含了原方法和需要添加的新行为。</li>
</ul>
<p>该方法（情况一）的步骤：</p>
<ul>
<li>确定修改点。</li>
<li>如果你的修改可以在一处地方以单块连续的语句序列出现，那么将待修改的方法重命名，并使用其原先的名字和签名创建一个新方法。在这么做的时候要“签名保持”。</li>
<li>在新方法中调用重命名后的原方法。(TDD)</li>
<li>为新特性编写一个方法，并在第二步创建的新方法里调用此方法。</li>
</ul>
<p>情况二的步骤：</p>
<ul>
<li>确定修改点。</li>
<li>如果你的修改可以在一处地方以单块连续的语句序列出现，用TDD编写一个新方法来容纳新的特性。</li>
<li>创建一个函数来调用新旧两个方法。</li>
</ul>
<p>优点：</p>
<ul>
<li>不会大量增加现用方法的体积。</li>
<li>显式地是新功能独立于既有功能。</li>
</ul>
<p>缺点:</p>
<ul>
<li>会导致糟糕的命名。</li>
</ul>
<h4 id="Wrap-Class-Approach"><a href="#Wrap-Class-Approach" class="headerlink" title="Wrap Class Approach"></a>Wrap Class Approach</h4><ul>
<li>Decoractor Pattern的经典应用。保持原有的类和方法不变。创建一个新的类，其定义了新的方法，并在该方法中实现了所需的新行为，并调用原类的需要被修改的方法。该方法适用于进行外覆的代码调用已经大量存在的情况。若新行为只需要添加到少数几个地方，则可以使用非“装饰性”的Wrap Class（外覆类），即不需要更高级的抽象类，如Abstract Class。</li>
</ul>
<p>该方法的步骤：</p>
<ul>
<li>确定修改点。</li>
<li>如果你的修改可以在一处地方以单块连续的语句序列出现，则新建一个类，该类的构造函数接受需要被外覆的泪的对象为参数。</li>
<li>TDD方法为外覆类编写一个方法，该方法负责完成需要添加的新行为。</li>
<li>在系统中需要使用新行为的地方创建并使用外覆类的对象。</li>
</ul>
<p>需要使用外覆类的两种情况：</p>
<ul>
<li>欲添加的行为是完全独立的，并且不希望让底层或不相关的行为污染现有类。</li>
<li>原类已经足够大。</li>
</ul>
<hr>

<h3 id="Refactor-in-Long-Run"><a href="#Refactor-in-Long-Run" class="headerlink" title="Refactor in Long Run"></a>Refactor in Long Run</h3><h4 id="Resolve-Dependencies"><a href="#Resolve-Dependencies" class="headerlink" title="Resolve Dependencies"></a>Resolve Dependencies</h4><ul>
<li>用Inversion of Control pattern来解依赖。被修改的类只知道要用的接口类型（interface type），不必知道接口的具体实现细节。具体的实现细节分为产品实现和测试实现，通过实现（implement interface）共有的接口（interface）来定义。同时，将类分配到不同的包来加快编译过程。</li>
</ul>
<hr>

<h3 id="Adding-New-Features"><a href="#Adding-New-Features" class="headerlink" title="Adding New Features"></a>Adding New Features</h3><h4 id="TDD"><a href="#TDD" class="headerlink" title="TDD"></a>TDD</h4><ul>
<li>Check this link: <a href="http://yular.github.io/2017/09/14/Thinking-in-Test-Driven-Development/">Test-Driven-Development</a>.</li>
</ul>
<h4 id="Programming-by-Difference"><a href="#Programming-by-Difference" class="headerlink" title="Programming by Difference"></a>Programming by Difference</h4><ul>
<li>使用类的继承，在不直接改变一个类的前提下引入新特性，并添加对应的测试。在添加完特性后，便可以知道要如何添加该特性。最后再根据情况对代码进行重构。之前添加的新继承类有可能会被删除。</li>
</ul>
<p>该方法要遵守Liskov置换原则（LSP）：</p>
<ul>
<li>子类对象应当能用于替换代码中任何地方出现的其父类的对象。</li>
<li>该原则的一般规则：<ul>
<li>尽可能避免重写具体方法。</li>
<li>若重写了某方法，则看看能否在重写方法中调用被重写的方法。</li>
</ul>
</li>
</ul>
<p>在规范化的继承体系中，任何类都不会包含同一个方法的多个实现。即任何类都不会重写其父类中的具体方法。</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Software-Development/">Software Development</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-02-09T09:10:21.000Z"><a href="/2018/02/09/Reading-Note-of-Working-Effectively-with-Legacy-Code-I/">2018-02-09</a></time>
      
      
  
    <h1 class="title"><a href="/2018/02/09/Reading-Note-of-Working-Effectively-with-Legacy-Code-I/">Reading Note of Working Effectively with Legacy Code I</a></h1>
  

    </header>
    <div class="entry">
      
      
        <h3 id="Introductin"><a href="#Introductin" class="headerlink" title="Introductin"></a>Introductin</h3><ul>
<li>修改软件的四个起因：添加新特性，修正bug，改善设计，优化资源使用。</li>
</ul>
<hr>

<h3 id="Tests"><a href="#Tests" class="headerlink" title="Tests"></a>Tests</h3><ul>
<li>在进行修改之前，完善好测试，确保修改不会损坏软件。</li>
</ul>
<h4 id="Unit-Test"><a href="#Unit-Test" class="headerlink" title="Unit Test"></a>Unit Test</h4><ul>
<li>单元测试由一组独立的测试组成，其中每个测试针对一个单独的软件组件。在面向对象中，组件是一个类。</li>
<li>单元测试的品质：<ul>
<li>运行快</li>
<li>能帮助定位问题所在</li>
</ul>
</li>
</ul>
<h4 id="High-Level-Test"><a href="#High-Level-Test" class="headerlink" title="High Level Test"></a>High Level Test</h4><ul>
<li>高层测试是覆盖了某个应用中的场景和交互的测试，可以用来快速确定一组类的行为，从而更容易为单个类编写测试。</li>
</ul>
<h4 id="Legacy-Code-Modification-Algorithm-Test-Driven-Development"><a href="#Legacy-Code-Modification-Algorithm-Test-Driven-Development" class="headerlink" title="Legacy Code Modification Algorithm (Test Driven Development)"></a>Legacy Code Modification Algorithm (Test Driven Development)</h4><ul>
<li>确定改动点。</li>
<li>找出测试点。</li>
<li>解依赖。</li>
<li>编写测试。</li>
<li>修改、重构。</li>
</ul>
<h4 id="Resolve-Dependencies"><a href="#Resolve-Dependencies" class="headerlink" title="Resolve Dependencies"></a>Resolve Dependencies</h4><p>解依赖</p>
<ul>
<li>感知：当无法访问到代码计算出的值时，需要通过解依赖来“感知”这些值。（exp: Mock database）</li>
<li>分离：当无法将哪怕一小块代码放入到测试工具去运行时，需要解依赖将这部分代码分离出来。（exp: Test static method） </li>
</ul>
<h5 id="Fake-Mock-Object"><a href="#Fake-Mock-Object" class="headerlink" title="Fake/Mock Object"></a>Fake/Mock Object</h5><ul>
<li>伪对象: 即实现一个伪对象来模拟一个现实中会使用的一个对象的行为，从而实现测试中的解依赖。（Mock database）</li>
<li>仿对象: 而仿对象是一种更高级的伪对象，是内部进行了断言检查的伪对象。(Verify(object).method)</li>
</ul>
<h4 id="Seam"><a href="#Seam" class="headerlink" title="Seam"></a>Seam</h4><p>指的是程序中的一些特殊的点，在这个点上无需作任何修改就可以达到改动程序行为的目的。</p>
<ul>
<li>对象接缝：无需修改调用函数的情况下，通过Override（或其他方法）被调用函数来解依赖。</li>
</ul>
<p>接缝类型：</p>
<ul>
<li>预处理接缝。比如C／C++中的宏预处理（#ifdef #if）。这类接缝的实现关键在于激活点。在激活点上，可以决定（在不同环境中，如测试和生产）使用哪种行为。</li>
</ul>
<p>连接期接缝</p>
<ul>
<li>在编译的时候，使用测试用的库来替换产品中用的库，它们的接口一样。但要保证测试和产品环境之间的差异显而易见。</li>
</ul>
<p>对象接缝</p>
<ul>
<li>传入测试用的对象来替代产品用的对象，从而改变其中该对象被调用方法的行为。或者是重写类的方法，在测试中使用不同的行为。</li>
</ul>
<hr>

<h3 id="Tool"><a href="#Tool" class="headerlink" title="Tool"></a>Tool</h3><h4 id="Refactor"><a href="#Refactor" class="headerlink" title="Refactor"></a>Refactor</h4><ul>
<li>对软件内部结构的一种调整，目的是在不改变软件的外在行为的前提下，提高其可理解性，降低其修改成本。</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Software-Development/">Software Development</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-01-29T00:39:37.000Z"><a href="/2018/01/28/Reading-Note-of-Programming-in-Lua-4th-Edition-II/">2018-01-28</a></time>
      
      
  
    <h1 class="title"><a href="/2018/01/28/Reading-Note-of-Programming-in-Lua-4th-Edition-II/">Reading Note of Programming in Lua 4th Edition II</a></h1>
  

    </header>
    <div class="entry">
      
      
        <h3 id="Meta-Data"><a href="#Meta-Data" class="headerlink" title="Meta Data"></a>Meta Data</h3>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Lua/">Lua</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-01-23T07:26:02.000Z"><a href="/2018/01/22/LintCode-Problem-Solution-List/">2018-01-22</a></time>
      
      
  
    <h1 class="title"><a href="/2018/01/22/LintCode-Problem-Solution-List/">LintCode Problem Solution List</a></h1>
  

    </header>
    <div class="entry">
      
      
        <p>Here is the solution list of some of the algorithm problems in <a href="http://www.lintcode.com/problem/" target="_blank" rel="external">LintCode Online Judge</a>. </p>
<p>Here is the link of <a href="https://github.com/yular/CC--InterviewProblem/blob/master/LintCode/README.md" target="_blank" rel="external">Solution List in Cpp</a>.</p>
<p>Here is the link of <a href="https://github.com/yular/Python-Interview/blob/master/LintCode/README.md" target="_blank" rel="external">Solution List in Python</a>.</p>
<p>The list will be updated whenever I solve (or optimize the solution) an algorithm problems of LintCode OJ.</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  <div class="tags">
    <a href="/tags/Algorithm/">Algorithm</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>







<nav id="pagination">
  
  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/2/">Siguiente &raquo;</a>
  </nav>

</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Google Search">
    <input type="hidden" name="q" value="">
  </form>
</div>

<div class="search">
   <form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
     <input type="search" id="search" class="st-default-search-input" style="height:40px" maxlength="20" placeholder="WebSite Search" />
     <input type="hidden" name="q" value="">
   </form>
</div>



  
  <div class="widget tag">
    <h3 class="title">Archive</h3>
    <div class="entry">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li></ul>
    </div>
  </div>



  
<div class="widget tag">
  <h3 class="title">Etiquetas</h3>
  <ul class="entry">
  
    <li><a href="/tags/Algorithm/">Algorithm</a><small>31</small></li>
  
    <li><a href="/tags/Android/">Android</a><small>1</small></li>
  
    <li><a href="/tags/Bit-Manipulation/">Bit Manipulation</a><small>1</small></li>
  
    <li><a href="/tags/BitCoin/">BitCoin</a><small>1</small></li>
  
    <li><a href="/tags/Business-Model/">Business Model</a><small>1</small></li>
  
    <li><a href="/tags/C/">C</a><small>4</small></li>
  
    <li><a href="/tags/C/">C++</a><small>2</small></li>
  
    <li><a href="/tags/Cloud-Computing/">Cloud Computing</a><small>29</small></li>
  
    <li><a href="/tags/Combinatorics/">Combinatorics</a><small>1</small></li>
  
    <li><a href="/tags/Data-Analysis/">Data Analysis</a><small>1</small></li>
  
    <li><a href="/tags/Database/">Database</a><small>10</small></li>
  
    <li><a href="/tags/Design-Pattern/">Design Pattern</a><small>3</small></li>
  
    <li><a href="/tags/Finance/">Finance</a><small>1</small></li>
  
    <li><a href="/tags/Graph-Theory/">Graph Theory</a><small>1</small></li>
  
    <li><a href="/tags/IOS/">IOS</a><small>1</small></li>
  
    <li><a href="/tags/Interview-Summary/">Interview Summary</a><small>2</small></li>
  
    <li><a href="/tags/Java/">Java</a><small>37</small></li>
  
    <li><a href="/tags/Javascript/">Javascript</a><small>1</small></li>
  
    <li><a href="/tags/Kotlin/">Kotlin</a><small>1</small></li>
  
    <li><a href="/tags/Life/">Life</a><small>6</small></li>
  
    <li><a href="/tags/Life-Thoughts/">Life Thoughts</a><small>1</small></li>
  
    <li><a href="/tags/Linux/">Linux</a><small>12</small></li>
  
    <li><a href="/tags/Lua/">Lua</a><small>8</small></li>
  
    <li><a href="/tags/Mac/">Mac</a><small>1</small></li>
  
    <li><a href="/tags/Machine-Learning/">Machine Learning</a><small>11</small></li>
  
    <li><a href="/tags/Natural-Language-Processing/">Natural Language Processing</a><small>1</small></li>
  
    <li><a href="/tags/Python/">Python</a><small>4</small></li>
  
    <li><a href="/tags/R/">R</a><small>1</small></li>
  
    <li><a href="/tags/Redis/">Redis</a><small>1</small></li>
  
    <li><a href="/tags/Ruby/">Ruby</a><small>2</small></li>
  
    <li><a href="/tags/Software-Development/">Software Development</a><small>12</small></li>
  
    <li><a href="/tags/SparkSQL/">SparkSQL</a><small>1</small></li>
  
    <li><a href="/tags/String/">String</a><small>1</small></li>
  
    <li><a href="/tags/System-Design/">System Design</a><small>10</small></li>
  
    <li><a href="/tags/Test/">Test</a><small>5</small></li>
  
    <li><a href="/tags/Tools/">Tools</a><small>4</small></li>
  
    <li><a href="/tags/Web/">Web</a><small>17</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">Nube de Etiquetas</h3>
  <div class="entry">
    <a href="/tags/Algorithm/" style="font-size: 19.23px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Bit-Manipulation/" style="font-size: 10px;">Bit Manipulation</a> <a href="/tags/BitCoin/" style="font-size: 10px;">BitCoin</a> <a href="/tags/Business-Model/" style="font-size: 10px;">Business Model</a> <a href="/tags/C/" style="font-size: 12.31px;">C</a> <a href="/tags/C/" style="font-size: 10.77px;">C++</a> <a href="/tags/Cloud-Computing/" style="font-size: 18.46px;">Cloud Computing</a> <a href="/tags/Combinatorics/" style="font-size: 10px;">Combinatorics</a> <a href="/tags/Data-Analysis/" style="font-size: 10px;">Data Analysis</a> <a href="/tags/Database/" style="font-size: 15.38px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 11.54px;">Design Pattern</a> <a href="/tags/Finance/" style="font-size: 10px;">Finance</a> <a href="/tags/Graph-Theory/" style="font-size: 10px;">Graph Theory</a> <a href="/tags/IOS/" style="font-size: 10px;">IOS</a> <a href="/tags/Interview-Summary/" style="font-size: 10.77px;">Interview Summary</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/Kotlin/" style="font-size: 10px;">Kotlin</a> <a href="/tags/Life/" style="font-size: 13.85px;">Life</a> <a href="/tags/Life-Thoughts/" style="font-size: 10px;">Life Thoughts</a> <a href="/tags/Linux/" style="font-size: 16.92px;">Linux</a> <a href="/tags/Lua/" style="font-size: 14.62px;">Lua</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Machine-Learning/" style="font-size: 16.15px;">Machine Learning</a> <a href="/tags/Natural-Language-Processing/" style="font-size: 10px;">Natural Language Processing</a> <a href="/tags/Python/" style="font-size: 12.31px;">Python</a> <a href="/tags/R/" style="font-size: 10px;">R</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Ruby/" style="font-size: 10.77px;">Ruby</a> <a href="/tags/Software-Development/" style="font-size: 16.92px;">Software Development</a> <a href="/tags/SparkSQL/" style="font-size: 10px;">SparkSQL</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/System-Design/" style="font-size: 15.38px;">System Design</a> <a href="/tags/Test/" style="font-size: 13.08px;">Test</a> <a href="/tags/Tools/" style="font-size: 12.31px;">Tools</a> <a href="/tags/Web/" style="font-size: 17.69px;">Web</a>
  </div>
</div>


  

  <div class="widget tag">
  <h3 class="title">Friend Links</h3>
  <ul class="entry">
    <li><a href="http://blog.haosdent.me/"  target="_blank">Haosong Huang's Blog</a></li>
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2018/05/10/Thinking-in-Ops-Readiness/">Thinking in Ops Readiness</a>
      </li>
    
      <li>
        <a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-II/">Reading Note of Patterns of Enterprise Application Architecture II</a>
      </li>
    
      <li>
        <a href="/2018/03/26/Reading-Note-of-Patterns-of-Enterprise-Application-Architecture-I/">Reading Note of Patterns of Enterprise Application Architecture I</a>
      </li>
    
      <li>
        <a href="/2018/03/12/BitCoin-Information-Summary/">BitCoin Information Summary</a>
      </li>
    
      <li>
        <a href="/2018/02/25/Reading-Note-of-Working-Effectively-with-Legacy-Code-IV/">Reading Note of Working Effectively with Legacy Code IV</a>
      </li>
    
  </ul>
</div>



  <div id="recentcomments" class="widget tag">
    <h3 class="title">Recent Comments</h3>
    <div class="entry">
      <div id="recentcomments" class="dsq-widget">
        <script type="text/javascript" src="http://yular.disqus.com/recent_comments_widget.js?num_items=10&hide_avatars=1&avatar_size=32&excerpt_length=100&hide_mods=0"></script>
      </div>
    </div>
</div>


  
  <div class="widget tag">
    <h3 class="title">Popular Posts</h3>
    <div class="widget">
      <ul class="popularlist">
      </ul>
    </div>
  </div>



  <div class="widget tag">
  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <h3 class="title">Statics</h3>
  <ul class="entry">   
    <li><span id="busuanzi_container_site_pv">Total Visits: <span id="busuanzi_value_site_pv"></span></span></li>
    <li><span id="busuanzi_container_site_uv">Total Visitors: <span id="busuanzi_value_site_uv"></span></span></li>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2018 BaiChuan Yang
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="alignright">
   <div style="font-family: FontAwesome;font-size: 20px;">
     <a href="http://weibo.com/u/5854007817?is_all=1" title="weibo" target="_blank"><img src="/css/images/weibo-social-logo.png"></a>&nbsp;
     <a href="https://www.facebook.com/johnson.green.338" title="Facebook" target="_blank"><img src="/css/images/facebook-logo.png"></a>&nbsp;
     <a href="https://twitter.com/JohnsonGreen5" title="twitter" target="_blank"><img src="/css/images/twitter-logo.png"></a>&nbsp;
     <a href="https://www.linkedin.com/in/baichuan-yang-6b7b6579" title="LinkedIn" target="_blank"><img src="/css/images/linkedin-logo.png"></a>&nbsp;
     <a href="https://github.com/yular" title="GitHub" target="_blank"><img src="/css/images/github-sign.png"></a>&nbsp;
     <a href="https://plus.google.com/u/0/+BaichuanYANG/" title="Google+" target="_blank"><img src="/css/images/social-google-plus-square-button.png"></a>
  </div>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</footer>
  <script src="/js/jquery-1.12.1.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



    <script type="text/javascript">
    var disqus_shortname = 'yular';

    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
    </script>


<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
<a title="backtotop"><img src="/imgs/scrollup.png"/></a>
</div>

<script src="/js/totop.js"></script>

<script src="/js/popular_posts.js"></script>

<div id='bg'></div>


</body>
</html>